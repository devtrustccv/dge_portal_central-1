"use client";

import { useTipoOferta } from "@/app/(layout-with-banner)/emprego/tipo-oferta-context";
import { Tabs, TabsList, TabsTrigger } from "@/components/atoms/tabs";
import { useSearchParams, useRouter } from "next/navigation";

export default function TipoOfertaTabs() {
  const router = useRouter();
  const searchParams = useSearchParams();
  const { tipoOferta } = useTipoOferta();

  const addToSearchParams = (value: string) => {
    const currentParams = new URLSearchParams(searchParams.toString());
    currentParams.set("tipo_oferta", value);
    router.replace(`?${currentParams.toString()}`);
  };

  return (
    <div>
      <Tabs value={tipoOferta} className="w-full">
        <TabsList className="grid w-full h-[44px] grid-cols-2 bg-[#EFF2F5] text-[#616E85]">
          <TabsTrigger
            value={"emprego"}
            className="w-full h-[36px] md:px-1 lg:px-4 text-md md:text-md lg:text-lg rounded-[13px] text-[#616E85] data-[state=active]:text-[#334155] data-[state=active]:bg-[#FFFFFF] whitespace-nowrap"
            onClick={() => {
              addToSearchParams("emprego");
            }}
          >
            Emprego
          </TabsTrigger>
          <TabsTrigger
            value={"estagio"}
            className="h-[27px] md:h-[40px] text-[12px] md:text-base data-[state=active]:text-[#334155]"
            onClick={() => {
              addToSearchParams("estagio");
            }}
          >
            Est√°gio
          </TabsTrigger>
        </TabsList>
      </Tabs>
    </div>
  );
}
